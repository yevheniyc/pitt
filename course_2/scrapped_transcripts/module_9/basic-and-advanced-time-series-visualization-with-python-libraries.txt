Source: https://www.coursera.org/learn/the-art-of-data-visualization/lecture/KoJPO/basic-and-advanced-time-series-visualization-with-python-libraries

English (auto)
In this module, after we have been able to understand what time series data are and learning
about processing the time series data using Python libraries, we're going to look into
how we can use Python libraries to visualize time series data.
So we'll start by setting up our environment of importing all the libraries that we need.
So those would be Pandas to deal with the data sets, NumPy for some of the processing,
and the Matplotlib and Seaborn, which are the visualization libraries that we had seen
in modules before as well.
Then in this case, we're going to just look at a generated time series data.
So first, just for practice, this is to create a time series data that then we can visualize.
So what you can see in this code is the first part, which basically identifying a date range.
So this is a date range from January 2020 to January 2022.
So two years with a frequency of daily data points that we are going to generate.
Then we are saving that data into a Panda data frame, and we are identifying the column
with the date that we are going to be using in the time series.
So now we can preview the data that we have generated by using the head function.
And we'll start with the visualization of this data.
So these are basically, now we are just creating a line visualization, which is what you had
seen using Matplotlib before, and making sure that we are labeling our axis also correctly,
particularly that here we want to make sure that it's clear that we are showing the date
as the x-axis of this data set.
So this is going to lead into this visualization that you can basically see from 2020 to 2022,
the data that we generated and these daily values that we created.
Now we can do some analysis that we learned in the last lesson to highlight some of the
trends and some aspects of this time series visualization.
As we learned in the last lesson, we can use a smoothing to reveal trends by creating
these rolling mean.
So here we are basically creating a rolling mean of a window of 30 days.
So what this does is that it's basically averaging the data over 30 days and overlaying this
on our original data set.
So here in the plotting section, we are basically plotting both the rolling mean that we are
creating in the first part of the code and our original data.
So this is going to lead into a graph like this, and you can follow along with this code
to generate similar plots that we are generating here and be able to actually manipulate things
and play with the different parameters to see how that actually affects your visualization.
So for example, you can change this window of the rolling to shorter window or higher
window to see how that changes your visualization.
So here the orange line basically shows that rolling mean, and you can see that this orange
line helps us see the pattern better than and the trend better than what we can see
kind of in the original data, which basically has a lot of kind of up and down in the data.
The orange line kind of shows this somewhat of consistent trend in the data.
We can also then use resampling to see if there is any seasonal pattern.
As we learned in the last lesson, we can use the function resample with the parameter of
m, which would be basically resampling our data from the daily frequency into monthly
frequency.
And what we can do is that we can actually plot this data, the resampled data that we
created as what you can actually see here.
And now we can see whether we observe any seasonality.
Maybe in this case, there are no specific seasonality, or you could maybe see like that
there is a cyclic pattern here in around 2021 in April.
We can also identify anomalies by using the z-scores.
So the z-score, we can first create the calculated z-scores as the one standard deviation away
from the mean.
And then basically say that we are going to be flagging anomalies that are within kind
of the three times from these z-scores away from the z-scores.
So that's what we consider kind of outlier and anomaly.
And then what we can do here is that we can then plot the anomalies over our original
data sets as well.
So this is what you're going to see.
So this is the blue line is our daily values, the original.
And then these red dots are basically these dots that we had identified as any value which
is three times bigger or smaller than the z-score of those values.
You can also use a Seaborn library to customize the visualization the same way that we learned
before when we looked at Seaborn visualization.
You can, for example, change the background or how the graph is visualized.
Like here you can see this is the same graph as before but we can change kind of the background
and how the plot is visualized using this code here in Seaborn.