Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/UFeXM/comparing-kmeans-clustering-to-species-groupings-analysis-and-visualization

English
Since we know, there are three species,
let's now create three clusters
and then compare the clusters with the known groupings.
Remember, there is no true answer for the clusters,
but we have this categorical variable species,
so it can be really useful to compare
the assignments from the clustering result
to a known grouping.
This is useful because we are using
just numeric variables to create the clusters,
and if the clusters align with the known groupings,
that means the numeric variables are really
aligned with these categories of the known groupings.
Let's see that in practice.
Clusters_3, again, we initialize n_clusters=3,
random_state, set the seed,
number of initial random guesses,
number of max iterations,
fit and predict using the standardized and clean columns.
Take the result, assign it to a new column k3,
or re-wrap it in pd.Series,
clusters_3, index=penguins_clean_copy.index,
and then force to a category.
Again, we can check the counts,
we can look at the pairs plot
where we color by the clusters.
Again, you must remove
the sample size effect
from the conditional KDE along the main diagonal.
Look at this scatter plot here where we are
getting this set of three pie slices.
In terms of flipper length and bill length,
there's like region lower,
region upper, and then the region in the middle.
Use a heat map to visually show how well
the clusters align with the known groupings.
Fig ax = plt.subplots,
sns.heatmap, data = pd.crosstab,
penguins_clean_copy.species, penguins_clean_copy.k3,
margins=True, annotate=True, set
the keywords for fontsize,
remove the color bar ax=ax, plt.show.
Oops. Oh, I forgot a comma.
There we go. Now,
creating this heat map.
By default, you get scientific notation
to remove the scientific notation,
include in the fmt argument.
It stands for format.
Format G, just show the integer values.
We know there are three species.
Gen 2 has 191 counts.
All 191 Gen 2's are in cluster k3 = 1.
Cluster k1 or Cluster 1 is the Gen 2 species.
The Adelie has 146 observations,
124 of them are Cluster 0,
22 of them are Cluster 2.
The Chinstrap has 68 total observations,
63 of them are Cluster 2,
five of them are Cluster 0.
Meaning Cluster 0 is a mixture between two species.
Cluster 0, although it's a mixture of two,
it's dominated by Adelie.
The story here, Cluster 1,
it's all Gen 2,
Cluster 0 is nearly completely Adelie,
Cluster 2 is a mixture of
Chinstrap and Adelie, but mostly Chinstrap.
Why would these five Chinstraps
be associated with the Adelie's?
Those five Chinstraps have
numeric variables more similar to
Adelie than the other Chinstraps.
To see that, let's take a look,
look at the scatterplot between two of the variables.
Color by k3 and set the marker shape by species.
Sns.relplot data = penguins_clean_copy, x equals,
we'll use bill length millimeters
and bill depth millimeters,
hue = k3, style = species.