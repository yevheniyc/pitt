Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/iQoiY/combinations-of-categorical-variables

English
Hello, everyone.
In this video, we're going to learn how to visualize
the combination of several categorical variables.
As you can see, I already have Jupyter open up to the directory for this week.
If you don't have it opened already,
please pause the recording and launch Jupyter.
Once you have done that, launch a new Jupyter notebook for Python three.
Let's go ahead and change the name of this notebook.
Week_06 going to
name it cat_combos.
Put in the header information CMPINF2100 Week
06 visualizing combinations between
multiple categorical variables.
We previously learned how to
show the marginal count for
the categories of a single categorical variable.
We will now learn how to examine the combination or
relationship between several categorical variables.
Let's go ahead and import our modules.
We need the same four modules as the previous videos.
Import NumPy as np, import pandas as pd,
import matplotlib.pyplot as plt, and
import seaborn as sns.
Now, for this example, we won't use gap minder.
We will only use the penguins
dataset for this notebook.
So go ahead and read in penguins or sns_load_dataset,
where you type penguins as a string.
Assign that to the object penguins,
and you now have the 344 rows with the seven columns.
As a little review, we previously saw the bar charts.
We made those bar charts in pandas and seaborne using figure and
axis level functions.
But let's just quickly review and look at the bar chart for
species, and then we will look at the bar chart for island.
I will only use the figure level function here, just because it's easier and
faster, and personally I prefer it.
So sns_catplot.
Again, figure levels are goal oriented.
My goal is to study a categorical variable.
The figure starts with the dataset.
Then we have to identify the variable, the column, and say what kind of plot?
So sns_catplot data equals penguins, x equals species, kind equals count.
You can see the heights here.
So the count per category.
Now do the same thing for
island sns_catplot data equals penguins,
x equals island, kind equals count, plt show.
Okay, each case there's one category that has the highest count, and
another category that has the lowest count.
But what is the relationship between these two categorical variables?
Or what are the counts for
the combinations between
the two categorical variables?
Let's first use the group by aggregate or,
sorry, the group by method to apply
the size method to each unique combination.
So let's just get a feel for what's happening.
What I want to do, I don't want to just group by one variable anymore.
Instead, I want to group by
the combination of species and island.
If I apply the .size method, we get the total number of rows for
each unique combination, but the result,
as you can see, is a panda series.
So instead, let's reset the index to turn it into
a data frame that gives us a weird column name for the value.
The summary stat, the size that I want, names it by default, 0.
So in reset index, say, use the name argument and assign the name to num_rows.
We now have the number of rows for each combination of species in Island.