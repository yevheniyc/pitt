Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/xwnfW/exploring-categorical-continuous-variable-relationships-hue-histograms

English
Hello everyone.
In this video, we will examine visualizing the relationship
between categorical and continuous variables.
As you can see, I already have Jupyter opened to the directory for this week.
If you don't have that already, please pause the recording and launch Jupyter
within your appropriate virtual environments and in the write directory.
Once you've done that, you will then create a new Jupyter notebook.
I'm going to go ahead and rename this one to
week_06_conditional_distributions.
Put in some header information,
CMPINF2100 Week 06 Categorical
to continuous variable relationships or
conditional distributions.
Either of these phrases can be used categorical to continuous relationships or
conditional distributions.
We have previously examined the counts of categorical variables by themselves.
The distributions of continuous variables by themselves.
Let's now consider how a continuous
variable's distribution changes across
the categories of a categorical variable,
meaning the distribution is conditioned on or
grouped by a categorical variable.
Let's go ahead and import our modules.
As with the other recordings this week,
we need numpy as NP, pandas as pd,
import matplotlib.pyplot as PLT so
matplotlib.pyplot as PLT, and import seabourn as sns.
Go ahead and read in the data.
We will continue to use penguins in this example.
So penguins equals sns.load dataset type penguins as a string.
But we will also use the Gapminder dataset again.
Go to the data for this week page under module six and
copy the raw URL to the pandas for
everyone gapminder dataset.
Once you've done that,
paste it in as a string and
read in pd.read csv gap_url
sep make it a tab complete.
Very good, we now have the penguins and we have the gapminder dataset.
Okay, we will begin with penguins in this example.
We previously looked at the marginal distribution
of flipper length millimeters as review.
Let's create that disk plot in as the figure
level function in seaborn sns.displot.
The figure starts with the data.
We then specify the variable or column we're working with or
interested on flipper length millimeters kind hist let's include in the KDE.
We previously discussed how there were these two concentrated clusters.
Data were concentrated in this one region, data were concentrated in another,
and the concentration decreased between them.
But let's now condition that's
the fancy statistics term or
group by the categorical variable species.
We will therefore examine if the distribution
of flipper length millimeter changes or
is different across the categories of species.
One way to create this figure is as
a histogram that is colored by species.
Sns.displot data = penguins,
x = flipper length millimeters.
As we learned in the previous recording on combinations,
the hue argument is how we can associate the color with variable.
So I want hue associated with species,
and then let's put kind equal to hist.
Okay, now the resulting figure is showing us
the same kind of bins that we looked at previously.
Remember, a bin is an interval, and
behind the scenes the variable is divided into these intervals,
and the number of observations per interval are counted.
Although this seems like a nice figure, you'll see these kinds of figures,
by the way, all the time on blogs and even in textbooks, we can see that the gen
2 species, which is in green, its grouping seems to be to the right.
Whereas the Adelie species in blue seems to be to the left.
But it's hard to see anything about chinstrap in orange,
and I'm not sure what's going on in this region.
I don't see blue, green, or orange, I see some kind of mixing of colors.
What I'm trying to get at here is you should never
use a histogram that has been colored in this way.
The reason is you see this mixing of colors,
this is actually a combination of the blue and the orange.
The actual height of the orange is here.
Basically, the orange chinstrap histogram is underneath the blue Adelie histogram.
And if you look really closely, you see this greenish-bluish color,
this is actually a combination of all three colors.
So all three species are located in this interval.
But that might be difficult to see because
of the fact the colors are on top of each other.
This problem becomes even worse when you have even more categories than just three.
For those reasons, I do not recommend you should ever use the histogram with colors,
because when the colors are on top of each other, it's very difficult to interpret.