Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/oJDKK/automating-group-aggregation-through-groupby

English
This was a very tedious process because we
had to go through and manually execute the splitting.
But don't worry Pandas has a method to manage,
split, apply, combine for us.
The groupby method will divide the dataset
into smaller groups based
on the categories of a grouping variable.
To execute what we just did manually here,
we start with the original dataset and we tell Pandas
to split based on the argument to groupby.
Groupby E means Pandas will behind
the scenes split into multiple,
smaller datasets, just like I did here.
We then need to tell it what method to apply.
Want to apply the mean method to the B column.
You can see B is average
when A is one and then 4, 7, and 10.
Here's the grouping variable,
it's the index of the series and the name
of the values of the variable we summarized.
By default,
the missing category is
not included or it has been dropped.
We can force groupby to include the missing.
Df.groupby E dropna false.
Now we have when E is missing,
the average of B is also missing.
I use the dot notation to access the column.
I wanted to summarize,
but we could also use the bracket notation.
The bracket notation allows providing variables
or objects to define
the variable or to define the column to summarize.
I'm going to make an object var_to_summarize
is the string B,
df.groupby E dropna is false,
var_to_summarize, apply the mean method.
We can also use a string or
object to identify the grouping variable.
So var_to_group is the string E,
df.groupby var_to_group, dropna false,
var_to_summarize, apply the mean.
Obviously, we can apply
other summary statistics or other summary methods.
Now, I'm just going to manually
type these in rather than
using the var_ to_group or var_to_summarize.
I'm going to apply the standard deviation method to be.
Obviously, we could apply it to a different column.
We could even apply
the standard error on the mean method.
If I want to know how much can I trust the average,
what is it standard error on the mean,
the sem method gives that to us.
What's great here is sem is
accounting for the sample size per group.
Because if you look the standard error on the mean,
it is different within each group.
The standard error on the mean depends on
the sample size and the standard deviation.
The standard deviation is small within
each group so we could be more confident,
potentially, about the average per group,
even if the sample size is a little smaller.
It all depends on the variation within
the groups versus the variation across the groups.
If we want multiple summary stats returned,
we can apply the dot describe method.
Groupby E dropna,
false apply describe to B.
Now we get the number of non missing rows per category,
the mean, and multiple summary stats.
This is nice but I dislike it.
I dislike it because the organization is a little weird,
the column names look strange.
There's nothing in here that's telling me all
of this stuff is applied to B.
Also, we do not need to necessarily
identify a single column when we summarize.
We can apply the summary method
directly to the grouped dataset,
so mean can just be applied to groupby.
Now, when this happens,
we get a warning message because it's saying, hey,
you have to be explicit you
want really to apply mean to just the numeric only.
Now we're getting the mean of B,
C and the other numeric columns for each category of E.