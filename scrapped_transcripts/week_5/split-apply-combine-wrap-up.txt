Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/a7qJu/split-apply-combine-wrap-up

English
To wrap up, let's just see what happens.
Let's group by two variables, just to see what happens.
Let's group by p class, and class.
Because titanic p class, value counts.
Titanic, and now, we have to use the bracket notation for class value counts.
These are actually the same things just encoded, or written different ways.
One, two, three versus 1st 2nd 3rd titanic group by.
I need a list.
P class, drop at a false aggregate.
We'll use the same summary stats.
Num, rows survived size num non missing survived.
Count num survive,
survived sum, proportion
survived survived mean.
And then I named it survive SEM,
survived SEM.
And reset the index.
Okay, now, what gets displayed?
You see all these missings?
See all these zeros?
P class one class second, there are zero rows where this combination occurs.
There are zero rows where p class is one, and class is third.
There are zero rows where p class is two, and class is first.
I wanted to end on this because next week we will
start to consider combinations of variables.
We will do so with visualization approaches.
In our data set, we only ever have p class,
one class first, we only have p class, two class second,
we only have p class, three class third.
Meaning there's very specific combinations of those two columns that were observed.
So if you group by multiple grouping variables,
and you start getting weird results, like nans,
but you were counting the number of rows, and
you start seeing there is zero combinations.
Or, sorry, zero rows of a combination,
it can be useful to simplify the group, and
summarized result by only focusing on the observed combinations.
So I'm going to use the exact same code.
I'm just going to copy it, paste it, after drop na, observed true.
Now we get just three rows displayed to the screen,
the three combinations that actually occur.
Everything is much easier to read, and to see.
So in summary, because I know this was a lot, but
in summary, when we summarize our variables,
we are not just interested in the summary over the entire data set.
We also want to summarize based on groups.
To do that, we need to split the data, apply the method to each group, and
combine everything back together again.
But you don't have to do this manually, ever.
You get to use the group by method.
Although there are multiple ways to program
applying a method to a variable in each group,
I prefer to use the approach group by aggregate.
It gives maximum flexibility for the naming convention.
Picking the column to apply the summary method to, that's really the crux of this.
That's all for this video.
Again, I hope you seeing the realistic example here,
even though it obviously is a very sad, and tragic example.
But it is a classic one to introduce,
studying how averages change across groups.