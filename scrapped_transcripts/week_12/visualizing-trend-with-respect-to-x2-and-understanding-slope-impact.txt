Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/dwXX9/visualizing-trend-with-respect-to-x2-and-understanding-slope-impact

English
Let's see this one more time.
Let's see this one more time by focusing on
the relationship with respect to x2.
So I'm now going to define a new function,
def calc_trend_wrt_x2.
I'm going to calculate the trend so I can visualize it with respect to x2.
I will have the same arguments x one x two b
zero b one b two my data frame now will be based
on having separate values of x two, so
I'm using a dictionary with the key x two and
its value my x two argument.
This function is intended to have a single value of
x1 that gets repeated down the rows.
The trend, however, is still intercept plus
slope times input 1 plus slope times input 2.
The equation for the trend is still the exact same.
So if I scroll back up to where we originally created the calc trend with
respect to x1, we still have intercept plus slope times x1 plus slope times x2.
The key difference here is the data frame is defined with respect to x one,
whereas now it's defined with respect to x two.
And then we return the data frame.
Let's define two new arrays so
we can visualize the trends with respect to x2 for
different values of x1.
I'll name the first array x2_values_b
np.linspace from -3 to 3 num 101.
This is again a 1D array with 101 values,
whereas x1, I'll name this object x1_values_b.
This time x one will only have nine unique values.
Therefore, x two has more unique values.
For our new attempt, rather than calculating the trend for
a single value of x one, let's use the list
comprehension to iterate over the values of x one.
I'll name this list study_wrt_x2_list,
so study with respect to x2.
We have a list comprehension, where there's an action for
an iterating variable in a sequence.
But now the iterating variable I'll name x1 and my sequence is x1_values_b.
The action is calc trend with respect to x two.
Where I have the scalar or constant x1, I have the sequence,
the array of x2 values, and then my intercept and my two slopes.
This new list again has nine elements, and let's now combine or concatenate them.
study_wrt_x2_df is the result of pd.concat
(study_wrt_x2_list, ignore_index=True).
This data frame now has 101 unique values of x two,
but only nine unique values of x one.
And let's confirm that's the case,
study_wrt_x2_df x1.value_counts,
nine unique values, 101 rows for each one.
Let's visualize the trend or
average output with respect to x two for
each unique value of x one.
Use the diverging color palette to help distinguish,
x1 values above and
below the x1 midpoint.
The code is the same style as what we used
previously of sns.relplot data
equals study with respect to x2 df.
I just have my new data frame, but now the x argument is not x1, it's x2.
The y argument is still trend.
The kind is still line.
The hue argument will now be x one.
My palette I want coolwarm.
We still have to turn off calculating the summary stat, so estimator=None.
But now each line will correspond to a unique value of x1.
So the units argument is x one and not x two.
Now, what's the purpose of creating this?
Examples most people don't go into this level of detail to talk
about your classic best fit line.
Well, again, let's return back to the trend with respect to x one.
Do you see how a one unit change in x one is
producing that two unit change in the trend?
That's because we had the slope very close to two.
A small change, or, sorry, a one unit change of x two,
however, is producing a very small change in the trend.
And we can see that previously from how close the lines are.
But if we examine our new figure where we're plotting
the trend with respect to x two, the lines are no longer close together.
In fact, each individual line has a very shallow slope.
For example, look at the dark blue line.
This is when x one is three.
That line is all roughly around a trend
of -6 because a one unit change in
x2 produces a very small change
in the average output or the trend.
See, I'm tracing out a one unit change in the horizontal and
how small of a change we get along an individual line.
The reason why these separate lines are more spaced out here
is because we know the slope multiplying input one is much greater than,
is ten times larger the slope multiplying input two.
So a one unit change of input one produces
a much larger change in the average output.