Source: https://www.coursera.org/learn/mds-introduction-to-data-centric-computing/lecture/GoNyU/visualizing-trend-changes-with-different-input-values

English
But now, what happens if we change x2 from 0 to -2?
Let's just go ahead and calculate it.
Calc_trend with respect to x1, x1_values.
Now, x2 is -2,
but we have the same coefficients.
We still get a data frame.
If I wanted to, I could scroll
up so that we can see the differences in
the trend but let's go ahead
and visualize what this trend looks like.
Again, we need Seaborn relplot data
equals calc_trend with respect to x1,
x1_values, -2,
b0, b1, b2,
x = x1, y = trend,
kind = line, plt.show.
We still have a diagonal straight line
where if you again, you look closely,
a one unit change to the input
produces very close to
a two unit change of the average output,
the trend because the slope is very close to two.
Is this line the same as the previous one?
Well, it's very difficult to
tell across multiple figures.
Let's repeat or replicate calculating
the trend with respect to x1 for different values of x2.
Let's repeat this procedure nine times.
Let's create another one D array,
x2_values = np.linspace -3,
2, 3 num = 9.
We are now going to replicate,
calculating the trend for
these nine different values of x2.
We could use a for loop to iterate,
but let's review list comprehensions.
I'm going to store the result in a list study_wrt,
which stands for study with respect to x1 list.
It gets assigned a list but remember,
this list is a list comprehension,
and a list comprehension has
an action for an iterating variable,
which is in a sequence.
I'm defining my iterating variable as x2,
coming from this sequence.
But now, what do I want the action to be?
I want to calculate the trend with respect to x1 for
those same x1_values for
the current iterating value of x2,
and then with the coefficients that we have defined.
Again, this function call
is the same thing we've used in
the previous two times but now instead
of hard coding one number for x2,
x2s value is allowed to change from within this sequence.
The list comprehension applies
our function for each of those values.
We now have a list with length 9.
Each element in that list is
a data frame that corresponds to a different value of x2.
Let's combine or concatenate
the separate data frames together.
I'll name this new object,
study_ wrt_x1_df,
study with respect to x1_df or data frame,
pd.concat study_ wrt_x1_list, ignore_index = true.
We now have a single data frame that
combines all nine unique values of x2,
and you get a little glimpse
of that here when we display it to the screen.
You can see 909 rows.
We see two different values of
x2 but if we apply the value counts method to x2,
we see there are 101 rows for each unique value of x2.
Let's now visualize the trend
or average output with respect to
x1 for each unique value of x2 as a line chart.
Our initial attempt at doing this
will use the exact same syntax that we had previously,
except now we don't need to call our function anymore.
The data argument provided to
relplot will be studied with respect to x1_df,
x = x1,
y = trend, kind = line plt.show.
Now, when you run this, it will pause for a few seconds.
Something is going on behind the scenes.
Even though we know there are nine unique values of x2,
we do not see nine lines.
We see a single line.
But the hint that something went on behind
the scenes is around this line is a ribbon.
This ribbon is the 95% confidence interval
on the average because,
by default, Seaborn line charts want to summarize data.
Let me put that in as a markdown cell.
By default, Seaborn line charts
want to summarize data and calculate
average behavior of the y-axis variable
with respect to the x-axis variable.
I personally do not know why
Seaborn wants to do this by default.
I find it very strange, I find it weird,
I find it confusing because
the scatter plot does not average by default.
If we would create the same kind of figure,
but as a scatter plot,
so data = study with respect to x1_df,
x = x1,
y = trend,
kind = scatter,
you literally see the raw data.
Every marker here is a row in
the study_ wrt_x1_df data frame.
We therefore need to disable or turn
off Seaborn's default line chart averaging.